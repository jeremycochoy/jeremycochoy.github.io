<!DOCTYPE html>
<html lang="en-us">

  <head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <meta name="description" content="Jeremy Cochoy's personal website.">
  <meta name="author" content="Jeremy Cochoy">

  <title>
    
      D√©couverte d'OCAML &middot; Jeremy Cochoy
    
  </title>

  <!-- CSS -->
  <link href="/public/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- Custom styles for this template -->
  <link href="/public/style.css" rel="stylesheet">

  <!-- Maths equations -->
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      processEscapes: true
    }
  });
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</head>


  <body>

    <!-- Fixed navbar -->
<nav class="navbar navbar-default navbar-fixed-top">
 <div class="container">
   <div class="navbar-header">
     <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
 <span class="sr-only">Toggle navigation</span>
 <span class="icon-bar"></span>
 <span class="icon-bar"></span>
 <span class="icon-bar"></span>
     </button>
     <a class="navbar-brand" href="/">Jeremy Cochoy</a>
   </div>
   <div id="navbar" class="collapse navbar-collapse">
     <ul class="nav navbar-nav">
 <li><a href="/blog/">Blog</a></li>
 <li><a href="/resume/">Resume</a></li>
 <li role="separator" class="divider"></li>
 <li><a href="/research/">Research</a></li>
 <li><a href="/talks/">Talks</a></li>
 <li><a href="/teaching/">Teaching</a></li>
 <li><a href="/music/">Music</a></li>
 <li class="dropdown">
   <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">More <span class="caret"></span></a>
   <ul class="dropdown-menu">
     <li><a href="/hyper-flop/">Hyper-Flop</a></li>
     <li role="separator" class="divider"></li>
     <li><a href="/pdfs/">PDFs & Talks</a></li>
     <li><a href="/agreg-dev/">Agregation de math√©matique</a></li>
     <li role="separator" class="divider"></li>
     <li><a href="https://github.com/jeremycochoy/sednl" alt="SEDNL Github">SEDNL (Github)</a></li>
     <li><a href="http://sednl.zenol.fr" alt="Simple Event Driven Network Library">SEDNL</a></li>
           <li role="separator" class="divider"></li>
           <li><a href="/gb-doc">GameBoy Emulator Documentation</a></li>
   </ul>
 </li>
     </ul>
   </div><!--/.nav-collapse -->
 </div>
</nav>


    <div class="container">
      <div class="post">
  <h1 class="post-title">D√©couverte d'OCAML</h1>
  <span class="post-date">21 Nov 2009</span>
  <h2 id="d√©couverte-docaml">D√©couverte d‚ÄôOCAML</h2>

<p>Dans ce petit article, je compte vous parler d‚Äôun langage de programmation assez particulier :  (O)CAML. Tout d‚Äôabord, si j‚Äôajoute une parenth√®se devant la premi√®re lettre du sigle, c‚Äôest que je ne compte pas aborder toute la partie OBJET de langage, ni la partie imp√©rative. N‚Äôesp√©rez donc pas voir une seul structure conditionnel (<em>if</em>) ou it√©rative (<em>while</em>/<em>for</em>) dans ce texte.</p>

<h2 id="propositions--d√©finitions-et-expressions-">Propositions : d√©finitions et expressions :</h2>

<p>Tout comme en math√©matique chaque phrase est une proposition, en ocaml chaque ‚Äúligne‚Äù est une proposition. Elle commence avec le premier caract√®re et se termine avec le symbole ‚Äò;;‚Äô</p>

<p>Il y a deux type de propositions :</p>
<ul>
  <li>Les expressions : De la forme <script type="math/tex">3*7</script> ou encore <script type="math/tex">\sqrt[7]{\frac{2^9}{3^{43}}}</script></li>
  <li>Les d√©finitions : De la forme <script type="math/tex">q := \sqrt{2}</script> qui d√©clare q comme un alias de <script type="math/tex">\sqrt{2}</script></li>
</ul>

<p>En ocaml, la syntaxe est la suivante :</p>
<ul>
  <li>Pour un expression :
    <div class="language-ocaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">3</span> <span class="o">*</span> <span class="mi">7</span><span class="p">;;</span>
</code></pre></div>    </div>
    <p>ou encore (pour <script type="math/tex">e^{log(\frac{exp(log(2) * 9)}{exp (log(3) * 43)}) / 7}</script>)</p>
    <div class="language-ocaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">exp</span> <span class="p">(</span><span class="n">log</span> <span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="n">log</span> <span class="mi">2</span><span class="o">.</span> <span class="o">*.</span> <span class="mi">9</span><span class="o">.</span><span class="p">)</span> <span class="o">/.</span> <span class="n">exp</span><span class="p">(</span><span class="n">log</span> <span class="mi">3</span><span class="o">.</span> <span class="o">*.</span> <span class="mi">43</span><span class="o">.</span><span class="p">)</span> <span class="p">)</span> <span class="o">/.</span> <span class="mi">7</span><span class="o">.</span><span class="p">);;</span>
</code></pre></div>    </div>
  </li>
  <li>Enfin, une d√©finition :
    <div class="language-ocaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">let</span> <span class="n">q</span> <span class="o">=</span> <span class="n">sqrt</span> <span class="mi">2</span><span class="p">;;</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="laspect-fonctionnel">L‚Äôaspect fonctionnel</h2>

<p>Mais comment un tel langage peut-il exister, et surtout, √™tre ‚Äòutilisable‚Äô sans pour autant faire usage des structures des langages imp√©ratif comme le C ou le Python? (Je m‚Äôadresse bien-sur ici a ceux qui n‚Äôont pas encore √©t√© initier aux joies des langages fonctionnel)</p>

<p>Tout d‚Äôabord, d√©finissons ce qu‚Äôest un langage fonctionnel. Par analogie √† un langage objet o√π les √©l√©ments sont des objets(Dans certains cas, TOUS les √©l√©ments), dans un langage fonctionnel, les √©l√©ments sont des fonctions, au sens math√©matique du terme.</p>

<p>Si l‚Äôon consid√®re la fonction suivante : <script type="math/tex">% <![CDATA[
\begin{array}{ccccc} f & : & \mathbb{Z} & \to & \mathbb{Z}^2 \\ & & x & \mapsto & (x, x) \end{array} %]]></script></p>

<p>C‚Äôest la fonction qui associe √† un entier <script type="math/tex">x</script> son couple situer sur sa diagonal(injection diagonal) <script type="math/tex">(x,x) \in \Delta\mathbb{Z} \subset \mathbb{Z}^2</script></p>

<p>Il est alors tr√®s ais√© de d√©finir f en ocaml :</p>
<pre><code class="language-{.ocaml}">let f x = (x, x);
</code></pre>
<p>Cette fonction est de type <code class="highlighter-rouge">int -&gt; int * int</code>, c‚Äôest a dire qu‚Äôelle prend un entier <script type="math/tex">int \approx \mathbb{Z}</script> et retourne un couple <script type="math/tex">(x, y) \in \mathbb{Z} \times \mathbb{Z}</script>.</p>

<p>On peut bien-sur d√©finir des fonctions de fonction. Observons la fonction ‚Äúcomposition‚Äù(rond) : <script type="math/tex">% <![CDATA[
\begin{array}{ccccc} o & : & (\mathbb{B} \Rightarrow \mathbb{C} ) \times (\mathbb{A} \Rightarrow \mathbb{B} ) & \longrightarrow & (\mathbb{A} \to \mathbb{C} ) \\ & & (f, g) & \longmapsto & (x \mapsto f(g(x)) \end{array} %]]></script>.</p>

<p>En OCAML, on aurais :</p>
<div class="language-ocaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="n">o</span> <span class="n">f</span> <span class="n">g</span> <span class="o">=</span> <span class="n">f</span> <span class="n">g</span><span class="p">;;</span>
<span class="c">(* val o : ('a -&gt; 'b) -&gt; 'a -&gt; 'b = &lt;fun&gt; *)</span>
</code></pre></div></div>

<h2 id="les-filtres">Les filtres</h2>

<p>Je vous ai parler un peut plus t√¥t de l‚Äôabsence de structures conditionnel et it√©ratif, je vais ici vous exposer les solutions a votre disposition.</p>

<p>Commen√ßons avec les blocs conditionnel. En OCAML, nous disposons d‚Äôune fonction-alit√©e tr√®s int√©ressante : les filtres.
Si l‚Äôon consid√®re la fonction continue suivante : <script type="math/tex">% <![CDATA[
\begin{array}{ccccc} f & : & \mathbb{Z} & \to & \mathbb{Z} \\ & & x & \mapsto &
\left\{
\begin{array}{ccc}
x < 0 & \Rightarrow & -2x \\ x \ge 0 &  \Rightarrow & x^2
\end{array}
\right.
\end{array} %]]></script></p>

<p>On constate que l‚Äôon a bien deux condition, une premi√®re qui regroupe les cas des x n√©gatif, et une deuxi√®me qui s‚Äôint√©resse aux x restant. En OCAML, on d√©fini de la m√™me fa√ßon :</p>
<div class="language-ocaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="n">f</span> <span class="o">=</span> <span class="k">function</span>
  <span class="o">|</span> <span class="n">x</span> <span class="k">when</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">-&gt;</span> <span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="n">x</span>
  <span class="o">|</span> <span class="n">x</span> <span class="k">when</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">-&gt;</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span>
  <span class="p">;;</span>
</code></pre></div></div>
<p>Ou bien, en omettant la deuxi√®me condition et en consid√©rons que la derni√®re condition matcheras pour ‚Äútous les cas restant‚Äù</p>
<div class="language-ocaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="n">f</span> <span class="o">=</span> <span class="k">function</span>
  <span class="o">|</span> <span class="n">x</span> <span class="k">when</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">-&gt;</span> <span class="o">-</span><span class="mi">2</span> <span class="o">*</span> <span class="n">x</span>
  <span class="o">|</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span>
  <span class="p">;;</span>
</code></pre></div></div>

<p>Dans le cas o√π l‚Äôon a pas besoin de nommer x, on peut utiliser _. Ainsi, un dernier cas <code class="highlighter-rouge">_ -&gt; smtg</code> correspondrais un peut √† ‚Äòdefault‚Äô d‚Äôun switch.
On pourras aussi utiliser l‚Äôinstruction match {variable} with {filtre}.</p>

<h2 id="la-r√©cursivit√©-terminal">La r√©cursivit√© terminal</h2>

<p>Maintenant, consid√©rons les it√©rations. Nous allons utiliser la r√©cursivit√©s terminal(tail-rec pour les intimes) affin de construire une boucle. La r√©cursivit√©e terminal est une forme de r√©cursivit√© ou l‚Äôunique action qui succ√®de √† l‚Äôappelle a la fonction r√©cursive est un retour de valeur.</p>

<p>C‚Äôest plut√¥t √©l√©mentaire :</p>
<div class="language-ocaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="k">rec</span> <span class="n">aff_n</span> <span class="o">=</span> <span class="k">function</span>
  <span class="o">|</span> <span class="n">n</span> <span class="k">when</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">-&gt;</span> <span class="bp">()</span><span class="p">;</span>
  <span class="o">|</span> <span class="n">n</span> <span class="o">-&gt;</span> <span class="n">print_endline</span> <span class="p">(</span><span class="n">string_of_int</span> <span class="n">n</span><span class="p">);</span>
           <span class="n">aff_n</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);;</span>
</code></pre></div></div>
<p>() repr√©sente le type ‚Äòunit‚Äô, c‚Äôest a dire que notre fonction ne retourne rien, tout comme print_endl. Nous obtenons une boucle de 10 √† 1, et nous affichons les valeurs a l‚Äô√©cran.
Vous vous demandez alors, pourquoi de la tail rec et non une simple r√©cursivit√©s? La r√©ponse est que l‚Äôinterpr√©teur/compilateur optimise par une it√©ration, ce qui est bien plus pratique pour nos machines qui on une m√©moire limiter et ne peuvent supporter qu‚Äôun nombre restreins d‚Äôappelles r√©cursif.</p>

<h2 id="pour-conclure">Pour conclure</h2>

<p>OCAML est un langage fonctionnel, qui bon nombre d‚Äôaspects et concepts qui sont parfois inconnus des programmeurs aillant pratiquer uniquement des langages imp√©ratif, et constitue de par son existence une forme de culture dont il peut-√™tre bon d‚Äôavoir connaissance.</p>

<h3 id="r√©f√©rences-">R√©f√©rences :</h3>

<p>Si vous √™tes curieux et d√©sirez en savoir plus, voici quelques liens :</p>

<ul>
  <li><a href="http://www.iie.cnam.fr/~dubois/presentation_caml.pdf">Pr√©sentation d‚Äôocaml</a></li>
  <li><a href="http://www.csc.villanova.edu/~dmatusze/resources/ocaml/ocaml.html">Notes on OCaml</a></li>
  <li><a href="http://fr.wikipedia.org/wiki/Objective_Caml">Wikipedia</a></li>
  <li><a href="http://www.google.fr/search?&amp;q=Tuto+Ocaml">Google</a></li>
</ul>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/what-is-wrong-with-the-object-paradigm/">
            What is wrong with the object paradigm ?
            <small>17 Feb 2017</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/boost-property-tree/">
            How to use boost::property_tree to load and write JSON
            <small>21 Dec 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/an-alternative-error-handling-strategy-cpp/">
            An alternative error handling strategy for C++
            <small>27 Aug 2013</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

    </div>

    
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-10762787-1', 'auto');
    ga('send', 'pageview');
</script>
    

    <footer class="footer">
  <hr/>
  <div class="container">
    <div class="row">
      <p class="text-muted col-sm-10 text-center">
            <span class="sidebar-nav-item small">Make a donation. üòá</span>
            <span class="sidebar-nav-item x-small">BTC: <a href="bitcoin:1JcME7DSCw8b83nEGFKUYTKE4LM8aX4dhJ">1JcME7DSCw8b83nEGFKUYTKE4LM8aX4dhJ</a></span>
            <span class="sidebar-nav-item x-small">ETH: <a href="ethereum:eA22ADf19f20D618D8EF66E4704C540A10708F1F">eA22ADf19f20D618D8EF66E4704C540A10708F1F</a></span>
      </p>
      <p class="col-sm-2">
        <a class="twitter-share-button col-sm"
           href="https://twitter.com/share"
           data-via="Zenol42">
          Tweet
        </a>
      </p>
    </div>
  </div>
</footer>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/bootstrap/js/vendor/jquery.min.js"><\/script>')</script>
<script src="/public/bootstrap/js/bootstrap.min.js"></script>

<!-- Twitter sharing button loader -->
<script>
  window.twttr = (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0],
      t = window.twttr || {};
    if (d.getElementById(id)) return t;
    js = d.createElement(s);
    js.id = id;
    js.src = "https://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js, fjs);

    t._e = [];
    t.ready = function(f) {
      t._e.push(f);
    };

    return t;
  }(document, "script", "twitter-wjs"));
</script>

  </body>
</html>
